<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Geonections</title>
  <link rel="icon" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 32 32'%3E%3Ccircle cx='16' cy='16' r='14' fill='%236ea8fe'/%3E%3C/svg%3E">
  <link rel="stylesheet" href="./styles.css" />
</head>
<body>
  <header class="site-header">
    <div class="container header-inner">
      <div class="tabs">
        <h1 class="logo">Geonections</h1>
<button id="past-btn" class="btn nav-btn" type="button">Past Geonections</button>
      </div>
      <div class="status">
        <span id="groups-remaining">Groups: 4</span>
        <span id="mistakes-left">Mistakes: 4</span>
        <label class="switch" style="margin-left:.5rem;">
  <input id="easy-toggle-header" type="checkbox" />
  <span class="slider"></span>
  <span class="label">Easy</span>
</label>
<label class="switch" style="margin-left:.25rem;">
  <input id="expert-toggle-header" type="checkbox" />
  <span class="slider"></span>
  <span class="label">Expert</span>
</label>
      </div>
    </div>
  </header>

  <main class="container">
    <div class="controls">
      <button id="submit-btn" class="btn primary" type="button" disabled>Submit</button>
      <button id="shuffle-btn" class="btn" type="button">Shuffle</button>
      <button id="share-btn" class="btn" type="button" disabled>Share</button>
    </div>

    <div id="message" class="messages" aria-live="polite"></div>
    <div id="board" class="board" aria-label="Puzzle board"></div>

    <section class="solved" aria-label="Solved groups">
      <div id="solved"></div>
    </section>

<footer class="site-footer">
  <div>¬© <span id="year">2025</span> Geonections</div>

  <!-- Visitor counter (hidden by default; still counts) -->
  <div id="site-counter" aria-hidden="true" style="position:absolute;left:-9999px;width:1px;height:1px;opacity:0;overflow:hidden;pointer-events:none;">
    <a href="https://www.hitwebcounter.com/" target="_blank" rel="noopener noreferrer">
      <img src="https://hitwebcounter.com/counter/counter.php?page=21436959&style=0001&nbdigits=5&type=page&initCount=10"
           title="Visitor counter" alt="Visitor counter" />
    </a>
  </div>
</footer>

  </main>

  <!-- Fullscreen Street View modal -->
  <div id="tile-modal" class="modal hidden" role="dialog" aria-modal="true" aria-label="Tile viewer">
    <div class="modal-backdrop"></div>
    <div class="modal-body">
      <button id="tile-close" class="close" aria-label="Close">x</button>

      <!-- Street View mounts here -->
      <div id="pano" class="pano"></div>
      <!-- Transparent overlay to block interaction -->
      <div id="freeze-overlay" class="freeze-overlay" aria-hidden="true"></div>
    </div>
  </div>

<div id="info-modal" class="modal" role="dialog" aria-modal="true" aria-label="Game instructions">
  <div class="modal-backdrop"></div>
  <div class="info-content">
    <button id="info-close" class="close" aria-label="Close info card">Got it</button>

    <h2>üåç Welcome to Geonections!</h2>

<p><strong>Make four groups of four</strong> ‚Äî each group is from the same country.</p>

<h3>How to play</h3>
<ol>
  <li>Click a tile to select it (it gets a color tag). Click again to deselect.</li>
  <li>Select in sets of four.</li>
  <li>You have 4 mistakes total.</li>
</ol>

<h3>Helpful controls</h3>
<ul>
  <li>Double-click a tile or press <strong>F</strong> to toggle full-screen on the last tile you clicked.</li>
  <li><strong>Shuffle</strong> reorders unsolved tiles.</li>
</ul>

<p><em>Note:</em> This game is designed for <strong>GeoGuessr</strong> players and meant to be mildly challenging‚Äîeven for the best among them. Don‚Äôt sweat a miss.</p>

    <p><em>Good luck!</em></p>

<!-- Expert row -->
<div class="mode-toggle">
  <label class="switch">
    <input id="expert-toggle" type="checkbox" />
    <span class="slider"></span>
    <span class="label">Expert mode</span>
  </label>
  <div class="mode-note">
    2 mistakes ¬∑ no hints ¬∑ one blind tile ¬∑ submit all 4 groups at once
  </div>
</div>

<!-- Easy row -->
<div class="mode-toggle">
  <label class="switch">
    <input id="easy-toggle" type="checkbox" />
    <span class="slider"></span>
    <span class="label">Easy mode</span>
  </label>
  <div class="mode-note">
    Make groups; naming the country is optional (no penalty for wrong/skip).
  </div>
</div>

<p class="feedback-note">For feedback or anything, hit me up on Discord. Username: <strong>a082239</strong></p>
</div> <!-- /.info-content -->
</div> <!-- /#info-modal -->

<script src="./tileModal.js" defer></script>
<script src="./script.js" defer></script>
<script>
(() => {
  // Show the counter if ?counter is in the URL, or toggle with Shift+Alt+C
  const params = new URLSearchParams(location.search);
  const enable = params.has("counter") || localStorage.getItem("showCounter") === "1";

  function setVisible(on) {
    const el = document.getElementById("site-counter");
    if (!el) return;
    if (on) {
      el.style.position = "static";
      el.style.left = "auto";
      el.style.width = "auto";
      el.style.height = "auto";
      el.style.opacity = "1";
      el.style.overflow = "visible";
      el.style.pointerEvents = "auto";
    } else {
      el.style.position = "absolute";
      el.style.left = "-9999px";
      el.style.width = "1px";
      el.style.height = "1px";
      el.style.opacity = "0";
      el.style.overflow = "hidden";
      el.style.pointerEvents = "none";
    }
  }

  setVisible(enable);

  // Secret hotkey: Shift + Alt + C toggles visibility (remembered per browser)
  window.addEventListener("keydown", (e) => {
    if (e.key.toLowerCase() === "c" && e.shiftKey && e.altKey) {
      const nowOn = !(localStorage.getItem("showCounter") === "1");
      localStorage.setItem("showCounter", nowOn ? "1" : "0");
      setVisible(nowOn);
    }
  });
})();
</script>
</body>
</html>
